PC DIY
======

## CPUs

- Intel Core
  - i5: $200 ~ $300
  - i7: $300 ~ $400
- AMD Ryzen
  - 5: $200 ~ $300
  - 7: $300 ~ $400
- TDP
  - OEMs design the cooler to handle TDP watts
    - this is the sustainable watts that cpu can draw
  - cpu draws peak watts when all cores run at boost freq
    - this is not sustainable
  - when cpu draws peak watts, it keeps getting hotter due to the difference
    of `(peak - tdp)` watts
  - until cpu thermal-trottles itself
    - 100C on Core
    - 95C on Ryzen
  - when OEMs design the cooler to handle a specific TDP, high-end and low-end
    cpus having the same TDP have roughly the same sustainable performance
    - the big difference between high-end and low-end is before
      thermal-throttle
- binning
  - after a die is manufactured, it goes through qa
  - each core is tested to see if
    - it can work pre-defined clocks/voltages
    - how is the current leakage
    - if a core is defective, the core is disabled
  - if the cores meet the criteria of a sku, the die is binned to the sku
    - under the same design and process, the difference of the best sku and
      the worst sku can just be manufacturing variances
- what is a good deal?
  - 7600
    - 6C@3.8GHz - 384KB/6MB/32MB - 65W
      - perf base
    - $230
      - price base
  - 7600X
    - 6C@4.7GHz - 384KB/6MB/32MB - 105W
      - x1.23
    - $240
      - x1.04
  - 7700
    - 8C@3.8GHz - 512KB/6MB/32MB - 65W
      - x1.33
    - $330
      - x1.43
  - 7700X
    - 8C@4.5GHz - 512KB/6MB/32MB - 105W
      - x1.57
    - $350
      - x1.52
  - 7800X3D
    - 8C@4.2GHz - 512KB/6MB/96MB - 120W
      - x1.47 plus 64MB L3
    - $400
      - x1.73
  - 7900
    - 12C@3.7GHz - 768KB/12MB/64MB - 65W
      - x1.94 plus bigger L1/L2/L3
    - $430
      - x1.86
  - 7900X
    - 12C@4.7GHz - 768KB/12MB/64MB - 170W
      - x2.47 plus bigger L1/L2/L3
    - $450
      - x1.95
  - 7900X3D
    - 12C@4.4GHz - 768KB/12MB/128MB - 120W
      - x2.31 plus bigger L1/L2/L3 plus 64MB L3
    - $510
      - x2.21
  - 7950X
    - 16C@4.5GHz - 1MB/16MB/64MB - 170W
      - x3.15 plus bigger L1/L2/L3
    - $580
      - x2.52
  - 7950X3D
    - 16C@4.2GHz - 1MB/16MB/128MB - 120W
      - x2.94 plus bigger L1/L2/L3 plus 64MB L3
    - $690
      - x3.00
- Ryzen 7 9700X
  - <https://www.amd.com/en/products/processors/desktops/ryzen/9000-series/amd-ryzen-7-9700x.html>
  - General
    - Core: Zen 5, 4nm, x8, 3.8GHz boosted to 5.5GHz
    - Cache: L1 80KB per core, L2 1MB per core, L3 32MB shared
    - TDP: 65W
  - Connectivity:
    - USB Gen2 (10Gbps): x4
    - USB 2.0 (480Mbps): x1
    - PCIe 5.0: x28 lanes
      - x4 lanes reserved for chipset downlink which cap chipset bandwidth
      - typically, mobo allocates x16 lanes for dgpu and 2 x4 lanes for m2
    - RAM: DDR5-5600 with expo overclocking
  - GPU: RDNA2, 2CU, 2200MHz
- Ryzen 7 8700G
  - <https://www.amd.com/en/products/processors/desktops/ryzen/8000-series/amd-ryzen-7-8700g.html>
  - General
    - Core: Zen 4, 4nm, x8, 4.2GHz boosted to 5.1GHz
    - Cache: L1 64KB per core, L2 1MB per core, L3 16MB shared
    - TDP: 65W
  - Connectivity:
    - USB Gen4 (40Gbps): x2
    - USB Gen2 (10Gbps): x2
    - USB 2.0 (480Mbps): x1
    - PCIe 4.0: x20 lanes
      - x4 lanes reserved for chipset downlink which cap chipset bandwidth
      - typically, mobo allocates x8 lanes for dgpu and 2 x4 lanes for m2
    - RAM: DDR5-5200 with expo overclocking
  - GPU: RDNA3, 12CU, 2900MHz

## Motherboards

- LGA 1700
  - $100 ~ $300
- AM5
  - $100 ~ $300
- considerations
  - chipset
    - AMD B650
      - the total uplink bandwidth is capped by the 4-lane PCI-E 4.0
        connection to the cpu
      - USB 2.0 (480Mbps): x6
      - USB 3.2 Gen2 (10Gbps): x4
      - USB 3.2 Gen2x2 (10Gbps): x1 (or Gen2: x2)
      - PCIe 4.0: x8
        - for lan, wifi/bt, nvme, i2c, spi, hda, dsp, sensor hub, etc.
      - SATA 6Gbps: x4 (or PCIe 3.0: x4)
  - wireless
    - e.g., AMD RZ616 (Realtek MT7922), Intel AX210
    - 802.11ax
    - BT 5.2 / 5.3
  - lan
    - e.g., Realtek RTL8125
    - 2.5Gb
  - audio
    - e.g., Realtek ALC1220-VB hda codec
  - internal connectors
    - 1x 24-pin main power
    - 1x 8-pin cpu power
    - 1x CPU fan header
    - 2x system fan headers
    - 2x LED headers
    - 1x front panel, audio, usb
- amd b650 mobos
  - asus
    - prime: entry-level
      - b650m-a: micro-atx
        - WIFI: wifi/bt
        - II: more memory OC clocks
        - CSM: corporate stable model
        - AX: wifi/bt, more sata, more pcie
    - tuf gaming: budget gamer
      - aio cooler, more cpu power connector
      - b650m: micro-atx
    - rog strix: gamer
      - b650e-e: atx, two pcie 5.0 slots and m2 (the highest-end)
      - b650e-f: atx, one pcie 5.0 slot and m2
      - b650e-i: itx
      - b650-a: atx, pcie 4.0
    - proart: non-gaming
      - more usb, pcie, m2, and lan ports/slots
  - asrock
    - B650E: high-end atx/eatx, pcie 5.0, thunderbolt
      - Taichi, Steel Legend, PG Riptide
    - B650: atx, pcie 4.0
    - B650M: matx, pcie 4.0
    - B650E PG-ITX: itx, pcie 5.0
  - gigabyte
    - B650E: atx/eatx, pcie 5.0
    - B650: atx, pcie 4.0
    - B650M: matx, pcie 4.0
    - B650I: iatx, pcie 4.0
  - msi
    - B650: atx, pcie 4.0
    - B650M: matx, pcie 4.0
    - B650I: itx, pcie 4.0

## Memories

- DDR5 32GB
  - $80 ~ $400
- DDR4 32GB
  - $40 ~ $200
- module height can be limited by cases or cpu coolers
- DDR4
  - JEDEC defines up to DDR4-3200
    - Core and Ryzen both support DDR4-3200
  - Intel XMP 2.0 and AMD DOCP can overclock
    - the sweet spot is said to be 3600MHz and CL 16
- DDR5
  - JEDEC defines up to DDR5-6400
    - Core supports DDR5-5600
    - Ryzen supports DDR5-5200
  - Intel XMP 3.0 and AMD EXPO can overclock
    - the sweet spot is said to be 6000MHz and CL 30
- Bandwidth
  - DDR5-5600 means 5600 MT/s
    - the bus runs at 2800 MHz and DDR means 2 transactions per clock
    - the bus is 64-bit wide and dual-channel means 128-bit per transaction
    - the bandwidth is thus `5600 * 128 / 8 / 1024 = 87.5 GB/s` if dual-channel
  - DDR4-3200 means 3200 MT/s
    - the bandwidth is `3200 * 128 / 8 / 1024 = 50.0 GB/s` if dual-channel

## Storage

- m2 1TB
  - $40 ~ $100
- m.2 standard
  - form factors
    - 2280, 22x80mm
  - interfaces
    - pcie + nvme
      - 3.0 x4: 4GB/s
      - 4.0 x4: 8GB/s
      - 5.0 x4: 16GB/s
    - sata + ahci
- m.2 nvme components
  - controller
    - pcie 3.0, 4.0, 5.0
    - nvme 1.2, 1.3, 1.4, 2.0
  - dram
    - as cache
    - nvme 1.2 supports HMB, which uses system ram as cache instead
  - nand
    - as storage
    - SLC/MLC/TLC/QLC: 1/2/3/4-bit cells
      - SLC is fastest and the most durable, but costs more
      - TLC is the most common
    - TBW
      - terabytes written
      - endurance rating
- Samsung
  - 960 EVO vs PRO
    - controller: polaris, pcie 3.0 x4, nvme 1.2
    - dram: 1GB LPDDR3 / TB
    - nand: tlc
    - TBW: 400 vs 800
    - warranty: 3yr vs 5yr
  - 970 EVO vs PRO
    - controller: phoenix, pcie 3.0 x4, nvme 1.3
    - cache: 1GB LPDDR4 / TB
    - nand: tlc vs mlc
    - TBW: 600 vs 1200
    - warranty: 5 years
  - 980
    - controller: in-house, pcie 3.0 x4, nvme 1.4
    - cache: HMB (uses system ram)
    - nand: tlc
    - TBW: 600
    - warranty: 5 years
  - 980 PRO
    - controller: elpis, pcie 4.0 x4, nvme 1.3c
    - cache: 1GB LPDDR4 / TB
    - nand: v6 tlc
    - TBW: 600
    - warranty: 5 years
  - 990 PRO
    - controller: pascal, pcie 4.0 x4, nvme 2.0
    - cache: 1GB LPDDR4 / TB
    - nand: v7 tlc
    - TBW: 600
    - warranty: 5 years

## Cases

- micro-atx
  - $100 ~ $200
- mini-itx
  - $100 ~ $300
- theoretical sizes
  - components
    - itx: 170x170mm
    - flex: 82x41x150mm
    - cooler: 70mm
  - buffers
    - 10mm to case
    - 10mm between itx/flex(/gpu)
  - size
    - `(170+41+10+10+10)x(170+10+10)x(70+10+10)`
    - `241x190x90 = 4.12L`
  - plus 10mm-thick half-height gpu
    - `241x(190+10)x90 = 4.33L`
  - plus 40mm-thick full-height gpu
    - `241x(190+40)x(125+10+10) = 8.03L`
    - if in sandwich layout, `241x190x(90+10+40) = 6.41L`
  - if sfx-l (125x64x125) instead of flex,
    - `(170+64+10+10+10)x(170+10+10)x(125+10+10)`
    - `264x190x145 = 7.2L`
- SFF Case and Parts List
  - <https://docs.google.com/spreadsheets/d/1AddRvGWJ_f4B6UC7_IftDiVudVc8CJ8sxLUqlxVsCz4/edit>
  - sub-2L (mini pc-like)
    - deskmini x300: 1.92L, 46mm cpu cooler
  - sub-5L (igpu only)
    - Densium APU: 4L, 67mm cpu cooler
    - ZS-D2: 4.2L, 75mm cpu cooler
    - cooj mq4: 4.9L, 69mm cpu cooler
  - sub-5L (dgpu)
    - captain s v8: 4.3L, 75mm cpu cooler
    - velka 5: 4.9L, 37mm cpu cooler
  - sub-8L
    - AKLLA A1: 5.6L, 90mm cpu cooler
    - lzmod f1-sfx: 7.5L, 74mm cpu cooler
  - sub-12L
    - formd t1 v2: 9.9L, 115mm cpu cooler
    - lian li A4-H2O: 11L, aio cpu cooler

## CPU Coolers

- $30 ~ $80
- clearances
  - cases have cooler height clearances
    - small cases require low-profile coolers
  - coolers may have ram and io clearances
    - 90x90mm coolers are fine
    - 120x120mm coolers on itx have either ram clearnace or back panel io
      clearnace
- low-profile performance
  - 90x90mm is good enough to sustain TDP 65W cpus
    - height clearance: 37mm - 65mm
  - 120x120mm is needed for 65W cpus to stay at boost freq longer
    - height clearance: 65mm - 70mm
- for small builds emphasizing cpu performance,
  - pick 65W cpu
  - pick 120x120mm cooler
  - pick cases with high cooler height clearance
  - pick low-profile ram or mb with low-profile back io
- decibels
  - midnight background
    - outdoor: 30dB
    - bedroom: 25dB
  - office background
    - meditation: 30dB
    - desk: 40dB
    - kitchen: 55dB
  - x1 carbon gen 9 fan
    - 0rpm / background: 30dB
    - 4500rpm: 30dB (noticeable)
    - 5500rpm: 35dB (acceptable)
    - 6500rpm: 40dB (a bit annoying)
  - white noise
    - muted / background: 30dB
    - 35dB: noticeable
    - 40dB: acceptable
    - 45dB: a bit annoying
    - 50dB: annoying
  - it seems frequencies and background decibels both play a role
    - for fan noises in a 25dB room, 40dB from a distance is acceptable

## PSUs

- 750W
  - $100 ~ $180
- <https://cultists.network/140/psu-tier-list/>
- form factors
  - ATX: 150x86mm, depth is 140mm but can vary
  - SFX: about 125x64mm, depth is 100mm
  - SFX-L: about 125x64mm, depth is 125mm
  - TFX: about 85x65mm, depth is 175mm
  - flex: 81.5x40.5mm, depth is 150mm
  - 1U: less than 1.75in (44.45mm) in height
    - comparing to flex, usually wider, deeper, noisier, and more powerful
  - gan: 55x25mm, depth is 170mm
  - pico: requires external ac-dc adapter
- considerations
  - noise level
    - psus need big heatsinks and big fans which take up space
      - high-efficiency psus reduce wasted heat
    - smaller form factors use smaller heatsinks and smaller fans, which
      require higher rpms
  - atx efficiency and noise
    - CORSAIR RM750e
    - efficiency and noise
      - 72% at 15W: 4.2W heat, 0dB
      - 87% at 75W: 9.8W heat, 0dB
      - 91% at 150W: 13.5W heat, 8dB
      - 92% at 375W: 30W heat, 8dB
      - 87% at 750W: 97.5W heat, 25dB
  - sfx efficiency and noise
    - CORSAIR SF600
    - efficiency and noise
      - 87% at 60W: 8W heat, 0dB
      - 91% at 120W: 11W heat, 0dB
      - 92% at 300W: 24W heat, 11dB
      - 90% at 600W: 60W heat, 28dB
  - flex efficiency and noise
    - SilverStone FX600
      - <https://www.cybenetics.com/d/cybenetics_FPL.pdf>
    - efficiency and noise
      - 72% at 20W: 5.6W heat
      - 87% at 60W: 7.8W heat
      - 90% at 120W: 12W heat
      - 92% at 300W: 24W heat, 33dB
      - 89% at 600W: 66W heat, 48dB
    - FX600 is said to be ENP-7660B rebranded
      - <https://reviewer.co/psu/silverstone-fx600>
      - <https://reviewer.co/psu/enp-7660b>
      - fan: D40BM-12C vs ADO412XB-C51
      - 50W: 31.5 vs 32.5dB
      - 100W: 32 vs 32.5dB
      - 200W: 32.5 vs 33dB
      - 300W: 33 vs 33dB
      - 600W: 48 vs 52dB
    - FX60 is said to be much more quieter than FX350-G
    - Enhance ENP-7520B
      - 50W: 38dB
      - 100W: 45dB
      - 200W: 57dB
- phones and laptops
  - pixel 3 xl
    - battery
      - 3430mAh @ 3.85V
      - 13.2Wh
    - consumptions
      - suspended + airplane mode: 5mA
      - idle + screen off + airplane mode: 10mA
      - idle + screen off: 15mA
      - idle + black screen: 100mA
      - idle + white screen: 300mA
      - video: 200mA
      - game: 400mA
      - camera: 600mA
      - SD855 TDP: 5W
  - thinkpad x1 carbon gen9
    - battery
      - 3610mAh @ 15.44V
      - 56Wh
    - consumptions
      - `/sys/class/power_supply/BAT0/uevent`
        - `POWER_SUPPLY_VOLTAGE_NOW` is current voltage in uV
        - `POWER_SUPPLY_POWER_NOW` is current consumption in uW
        - `POWER_SUPPLY_ENERGY_NOW` is current charge in uW
      - idle + screen off: 10W
      - i7-1185G7 TDP: 12-28W

## GPUs

- nVidia GeForce
  - mid-end: $300 ~ $500
    - 3060, 3060 Ti
- AMD Radeon
  - mid-end: $200 ~ $400
    - 6600, 6600 XT
- TDP
  - mid-end: 160W - 200W
- pcie card sizes
  - standard
    - height: 107mm
    - half-length: 175.26mm
    - full-length: 312mm
      - this is uncommon
  - low-profile
    - height: 64.41mm
    - MD1 length: 119.91mm
    - MD2 length: 167.64mm
  - bracket
    - height: 120mm
    - low-profile: 79.2mm
- gaming gpus tend to be larger
  - high end example,
    - length: 304mm
    - height: 137mm
    - take up 3 slots to accommodate for the heat sink
  - mid end example,
    - length: 172mm
    - height: 125mm
    - take up 2 slots (43mm)
  - low-profile example,
    - length: 149.9mm
    - height: 68.9mm
    - thick: 14.7mm

## Example

- CPU: Ryzen 9 7900
  - $430
- MB: GIGABYTE B650I AORUS ULTRA
  - $260
- RAM: G.SKILL Ripjaws S5 6000 CL30 32GB
  - $120
- Storage: Samsung 990 PRO 1TB
  - $100
- Case: AKLLA A1 5.6L
  - $110
- CPU Cooler: Thermalright AXP120-X67
  - $50
- PSU: SilverStone FX600
  - $170
- Total
  - `$430+$260+$120+$100+$110+$50+$170 = $1240`
- no apu unless downgrade to am4
  - am5 cost `$430+$260+$120 = $810`
    - or Ryzen 5 7600 to save $200
  - am4 cost `$140+$200+$90 = $430`
    - Ryzen 5 5600G: $140
    - GIGABYTE B550I AORUS PRO AX: $200
    - CORSAIR Vengeance LPX 32GB: $90
