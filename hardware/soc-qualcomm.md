Qualcomm SoC
============

## SoC: Discontinued

- Snapdragon S series
  - discontinued
  - 2007-2008, S1 (MSM7x27), 65nm, Adreno 200, GLES2
  - 2010, S2 (MSM7x30, MSM8x55), 45nm, Adreno 205, GLES2
  - 2010, S3 (MSM8x60), 45nm, Adreno 220, GLES2
  - 2012, S4 (MSM8x{25,27,30,60}), 28-45nm, Adreno 203,225,305,320
- Snapdragon 2 series
  - ultra budget
  - 2013, 200 (MSM8x{10,12}), 28nm, Adreno 302
  - 2014-2017, 205/208/210/212 (MSM8x{05,08,09}), 28nm, Adreno 304
  - 2019, 215 (QM215), 28nm, Adreno 308

## SoC: Mobile Series

- Snapdragon 4 series
  - entry level
  - 2013, 400 (MSM8x{26,28,30}), 28nm, Adreno 305
  - 2014-2015, 410/412/415 (MSM8x{16,29}), 28nm, Adreno 306/405
  - 2015-2016, 425/427/430/435 (MSM8x{17,20,37,40}), 28nm, Adreno 308/505
  - 2017-2018, 429/439/450 (SDM{429,439,450}), 12-14nm, Adreno 504/505/506
  - 2020, 460 (SM4250), 11nm, Adreno 610
  - 2021, 480 - SM4350 - 8nm - Adreno 619
  - 2022, 4 Gen1 (SM4375), 6nm, Adreno 619
  - 2023, 4 Gen2 (SM4450), 4nm, Adreno 613
  - 2024, 4s Gen2 (SM4635), 4nm, Adreno 611
- Snapdragon 6 series
  - mid-range
  - 2013, 600 (APQ8064), 28nm, Adreno 320
  - 2014-2015, 610/615/616 (MSM89{36,39}), 28nm, Adreno 405
  - 2016, 625/626 (MSM8953), 14nm, Adreno 506
  - 2016, 650/652/653 (MSM89{56,76}), 28nm, Adreno 510
  - 2017, 630/636/660 (SDM{630,636,660}), 14nm, Adreno 508/509/512
  - 2018, 632/670 (SDM{632,670}), 10-14nm, Adreno 506/615
  - 2019-2020, 662/665/675/678 (SM61{15,25,50}), 11nm, Adreno 610/612
  - 2020-2021, 680/690/695 (SM{6225,6350,6375}), 6-8nm, Adreno 610/619
  - 2023, 6 Gen1 (SM6450), 4nm, Adreno 710
  - 2024, 6s Gen1 (SM6115-AC), 11nm, Adreno 610
  - 2024, 6 Gen3 (SM6475-AB), 4nm, Adreno 710
  - 2024, 6s Gen3 (SM6375-AC), 6nm, Adreno 619
  - 2025, 6 Gen4 (SM6650), 4nm, Adreno 810
  - 2025, 6s Gen4 (SM6435-AA), 4nm, Adreno
- Snapdragon 7 series
  - upper mid-range
  - 2018-2019, 710/712 (SDM{710,712}), 10nm, Adreno 616
  - 2019-2020, 720G/730G/732G (SM71{25,50}), 8nm, Adreno 618
  - 2020, 750G/765G/768G (SM72{25,50}), 7nm, Adreno 620
  - 2021, 778G/780G (SM73{25,50}), 5-6nm, Adreno 642
  - 2022, 7 Gen1 (SM7450), 4nm, Adreno 644
  - 2023, 7s/7+ Gen2 (SM{7435,7475}-AB), 4nm, Adreno 710/725
  - 2024, 7/7+ Gen3 (SM{7550,7675}-AB), 4nm, Adreno 720/732
  - 2024, 7s Gen3 (SM7635), 4nm, Adreno 810
  - 2025, 7 Gen4 (SM7750-AB), 4nm, Adreno 722
  - 2025, 7s Gen4 (SM7635-AC), 4nm, Adreno 810
- Snapdragon 8 series
  - high-end
  - 2013-2014, 800/801/805 (MSM8x74/APQ8084), 28nm, Adreno 330/420
  - 2015, 808/810 (MSM9x{92,94}), 20nm, Adreno 418/430
  - 2016, 820/821 (MSM8996), 14nm, Adreno 530
  - 2017, 835 (MSM8998), 10nm, Adreno 540
  - 2018, 845 (SDM845), 10nm, Adreno 630
  - 2019-2021, 855/860 (SM8150), 7nm, Adreno 640
  - 2020-2021, 865/865+/870 (SM8250), 7nm, Adreno 650
  - 2021, 888/888+ (SM8350), 5nm, Adreno 660
  - 2022, 8/8+ Gen1 (SM84{50,75}), 4nm, Adreno 730
  - 2023, 8 Gen2 (SM8550), 4nm, Adreno 740
  - 2024, 8/8s Gen3 (SM{8650,8635}), 4nm, Adreno {750,735}
  - 2024, 8 Elite (SM8750), 3nm, Adreno 830
    - `pakala`
  - 2025, 8s Gen4 (SM8735), 4nm, Adreno 825
  - 2025, 8 Elite Gen5 (SM8850-AC), 3nm, Adreno 840
    - `kaanapali`
  - 2025, 8 Gen5 (SM8845), 3nm, Adreno 840
    - `alana`

## SoC: Compute Platforms

- Snapdragon 7 Compute Platforms
  - 2020, 7c (SC7180), 8nm, Adreno 618
    - cros: trogdor
      - `sc7180-trogdor-lazor-r3-kb.dts`
      - `sc7180-trogdor-coachz-r3.dts`
  - 2021, 7c Gen2 (SC7180P), 8nm, Adreno 618
  - 2022, 7c+ Gen3 (SC7280), 6nm, Adreno 7c+ Gen3 (Adreno 635)
    - idp reference design: `sc7280-idp.dts`
    - compute reference design: `sc7280-crd-r3.dts`
    - cros: herobrine
      - `sc7280-herobrine-villager-r1.dts`
- Snapdragon 8 Compute Platforms
  - 2018, 835 (MSM8998), 10nm, Adreno 540
  - 2018, 850 (SDM850), 10nm, Adreno 630
  - 2019, 8cx (SC8180X), 7nm, Adreno 680
  - 2020, 8c (SC8180), 7nm, Adreno 675
  - 2020, 8cx Gen 2 (SC8180XP), 7nm, Adreno 690
  - 2022, 8cx Gen 3 (SC8280), 5nm, Adreno 695
- Snapdragon X Series
  - 2024, X Elite/Plus (SC8380, X1E-80-100/X1P-42-100), 4nm, Adreno X1-85/X1-45
    - `hamoa`: 10-core and 12-core, with X1-85 gpu
    - `purwa`: 8-core, with X1-45 gpu
    - qualcomm compute platform: `x1e80100-qcp.dts`
    - compute reference design: `x1e80100-crd.dts`
  - 2025, X2 Elite (SC8480, X2-80-100), 3nm, Adreno X2-85
    - `glymur`

## SoC: Gaming Platforms

- Snapdragon G series
  - 2023, G3x Gen1, 5nm, Adreno 660
    - rebranding of 888+
  - 2023, G3x Gen2, 4nm, Adreno A32 (based on Adreno 740)
  - 2025, G3 Gen3, 4nm, Adreno A33

## Qualcomm Modem/WiFi/BT?

- subsystems
  - WPSS, WCNSS, wifi/bt
  - MDSS, modem
  - VENUS, video codecs
  - Hexagon (Qualcomm DSP, QDSP)
    - <https://en.wikipedia.org/wiki/Qualcomm_Hexagon>
    - ADSP, app/audio DSP
    - CDSP, compute DSP
    - SDSP, sensor DSP
    - MDSP, modem DSP

## Qualcomm Audio

- <https://docs.qualcomm.com/bundle/publicresource/topics/80-70014-16/overview.html>
- LPASS, low power audio subsystem
- WCD, audio codec
- WSA, speaker amplifier
- WSA playback (to speakers (L & R)): cpu -> dsp -> wsa macro -swr-> wsa -> speaker
- WCD playback (to headphone): cpu -> dsp -> rx macro -swr-> wcd -> headphone
- WCD capture (from mic): mic -> wcd -swr-> tx macro -> dsp -> cpu
- VA capture (from ??? voice activation?): ? -> va macro -> dsp -> cpu

## X1E-80-100

- `/dummy-sink`, `arm,coresight-dummy-sink`, `CONFIG_CORESIGHT_DUMMY`
- `/firmware/scm`, `qcom,scm`, `CONFIG_QCOM_SCM`
  - this adds subdevices that require
    - `CONFIG_QCOM_QSEECOM`
    - `CONFIG_QCOM_QSEECOM_UEFISECAPP`
- `/firmware/scmi`, `arm,scmi`, `CONFIG_ARM_SCMI_TRANSPORT_MAILBOX`
  - `protocol@13`, none, `CONFIG_ARM_SCMI_CPUFREQ` and `CONFIG_ARM_SCMI_PERF_DOMAIN`
- `/interconnect-0`, `qcom,x1e80100-clk-virt`, `CONFIG_INTERCONNECT_QCOM_X1E80100`
- `/interconnect-1`, `qcom,x1e80100-mc-virt`, `CONFIG_INTERCONNECT_QCOM_X1E80100`
- `/pmu`, `arm,armv8-pmuv3`, `CONFIG_ARM_PMUV3`
- `/psci`, `arm,psci-1.0`, `CONFIG_ARM_PSCI_CPUIDLE_DOMAIN`
- `/reserved-memory/aop-cmd-db@81c60000`, `qcom,cmd-db`, `CONFIG_QCOM_COMMAND_DB`
- `/reserved-memory/smem@ffe00000`, `qcom,smem`, `CONFIG_QCOM_SMEM`
  - this adds a subdevice that requires `CONFIG_QCOM_SOCINFO`
- `/smp2p-adsp`, `qcom,smp2p`, `CONFIG_QCOM_SMP2P`
- `/smp2p-cdsp`, `qcom,smp2p`, `CONFIG_QCOM_SMP2P`
- `/soc@0/clock-controller@100000`, `qcom,x1e80100-gcc`, `CONFIG_CLK_X1E80100_GCC`
- `/soc@0/mailbox@408000`, `qcom,ipcc`, `CONFIG_QCOM_IPCC`
- `/soc@0/dma-controller@800000`, `qcom,sm6350-gpi-dma`, `CONFIG_QCOM_GPI_DMA`
- `/soc@0/geniqup@8c0000`, `qcom,geni-se-qup`, `CONFIG_QCOM_GENI_SE`
  - `i2c@*`, `qcom,geni-i2c`, `CONFIG_I2C_QCOM_GENI`
  - `serial@894000`, `qcom,geni-uart`, `CONFIG_SERIAL_QCOM_GENI`
  - `spi@*`, `qcom,geni-spi`, `CONFIG_SPI_QCOM_GENI`
- `/soc@0/dma-controller@a00000`, `qcom,sm6350-gpi-dma`, `CONFIG_QCOM_GPI_DMA`
- `/soc@0/geniqup@ac0000`, `qcom,geni-se-qup`, `CONFIG_QCOM_GENI_SE`
  - `i2c@*`, `qcom,geni-i2c`, `CONFIG_I2C_QCOM_GENI`
  - `serial@a98000`, `qcom,geni-uart`, `CONFIG_SERIAL_QCOM_GENI`
    - `x1-asus-vivobook-s15.dtsi` adds
      - `bluetooth`, `qcom,wcn7850-bt`, `CONFIG_BT_HCIUART_QCA`
  - `spi@*`, `qcom,geni-spi`, `CONFIG_SPI_QCOM_GENI`
- `/soc@0/dma-controller@b00000`, `qcom,sm6350-gpi-dma`, `CONFIG_QCOM_GPI_DMA`
- `/soc@0/geniqup@bc0000`, `qcom,geni-se-qup`, `CONFIG_QCOM_GENI_SE`
  - `i2c@*`, `qcom,geni-i2c`, `CONFIG_I2C_QCOM_GENI`
    - `x1-asus-vivobook-s15.dtsi` adds
      - `touchpad@15`, `hid-over-i2c`, `CONFIG_I2C_HID_OF`
        - it adds a subdev that requires `CONFIG_HID_MULTITOUCH`
      - `typec-mux@8`, `parade,ps8830`, `CONFIG_TYPEC_MUX_PS883X`
        - the mux adds a bridge that requires `CONFIG_DRM_AUX_BRIDGE`
      - `keyboard@3a`, `hid-over-i2c`, `CONFIG_I2C_HID_OF`
        - it adds a subdev that requires `CONFIG_HID_GENERIC`
      - `redriver@43`, `nxp,ptn3222`, `CONFIG_PHY_NXP_PTN3222`
      - `redriver@47`, `nxp,ptn3222`, `CONFIG_PHY_NXP_PTN3222`
      - `redriver@4f`, `nxp,ptn3222`, `CONFIG_PHY_NXP_PTN3222`
      - `typec-mux@8`, `parade,ps8830`, `CONFIG_TYPEC_MUX_PS883X`
  - `serial@b88000`, `qcom,geni-uart`, `CONFIG_SERIAL_QCOM_GENI`
  - `spi@*`, `qcom,geni-spi`, `CONFIG_SPI_QCOM_GENI`
- `/soc@0/thermal-sensor@*`, `qcom,tsens-v2`, `CONFIG_QCOM_TSENS`
- `/soc@0/phy@fd3000`, `qcom,sm8550-snps-eusb2-phy`, `CONFIG_PHY_QCOM_SNPS_EUSB2`
- `/soc@0/phy@fd5000`, `qcom,x1e80100-qmp-usb3-dp-phy`, `CONFIG_PHY_QCOM_QMP_COMBO`
- `/soc@0/phy@fd9000`, `qcom,sm8550-snps-eusb2-phy`, `CONFIG_PHY_QCOM_SNPS_EUSB2`
- `/soc@0/phy@fda000`, `qcom,x1e80100-qmp-usb3-dp-phy`, `CONFIG_PHY_QCOM_QMP_COMBO`
- `/soc@0/phy@fde000`, `qcom,sm8550-snps-eusb2-phy`, `CONFIG_PHY_QCOM_SNPS_EUSB2`
- `/soc@0/phy@fdf000`, `qcom,x1e80100-qmp-usb3-dp-phy`, `CONFIG_PHY_QCOM_QMP_COMBO`
- `/soc@0/interconnect@1500000`, `qcom,x1e80100-cnoc-main`, `CONFIG_INTERCONNECT_QCOM_X1E80100`
- `/soc@0/interconnect@1600000`, `qcom,x1e80100-cnoc-cfg`, `CONFIG_INTERCONNECT_QCOM_X1E80100`
- `/soc@0/interconnect@1680000`, `qcom,x1e80100-system-noc`, `CONFIG_INTERCONNECT_QCOM_X1E80100`
- `/soc@0/interconnect@16c0000`, `qcom,x1e80100-pcie-south-anoc`, `CONFIG_INTERCONNECT_QCOM_X1E80100`
- `/soc@0/interconnect@16d0000`, `qcom,x1e80100-pcie-center-anoc`, `CONFIG_INTERCONNECT_QCOM_X1E80100`
- `/soc@0/interconnect@16e0000`, `qcom,x1e80100-aggre1-noc`, `CONFIG_INTERCONNECT_QCOM_X1E80100`
- `/soc@0/interconnect@1700000`, `qcom,x1e80100-aggre2-noc`, `CONFIG_INTERCONNECT_QCOM_X1E80100`
- `/soc@0/interconnect@1740000`, `qcom,x1e80100-pcie-north-anoc`, `CONFIG_INTERCONNECT_QCOM_X1E80100`
- `/soc@0/interconnect@1750000`, `qcom,x1e80100-usb-center-anoc`, `CONFIG_INTERCONNECT_QCOM_X1E80100`
- `/soc@0/interconnect@1760000`, `qcom,x1e80100-usb-north-anoc`, `CONFIG_INTERCONNECT_QCOM_X1E80100`
- `/soc@0/interconnect@1770000`, `qcom,x1e80100-usb-south-anoc`, `CONFIG_INTERCONNECT_QCOM_X1E80100`
- `/soc@0/interconnect@1780000`, `qcom,x1e80100-mmss-noc`, `CONFIG_INTERCONNECT_QCOM_X1E80100`
- `/soc@0/pcie@1bd0000`, `qcom,pcie-x1e80100`, `CONFIG_PCIE_QCOM`
- `/soc@0/phy@1be0000`, `qcom,x1e80100-qmp-gen4x8-pcie-phy`, `CONFIG_PHY_QCOM_QMP_PCIE`
- `/soc@0/pci@1bf8000`, `qcom,pcie-x1e80100`, `CONFIG_PCIE_QCOM`
  - the bus discovers subdevices that require
    - `CONFIG_PCIEPORTBUS`
    - `CONFIG_PCIEAER`
    - `CONFIG_PCIE_DPC`
    - `CONFIG_PCIE_PME`
    - `CONFIG_BLK_DEV_NVME`
- `/soc@0/phy@1bfc000`, `qcom,x1e80100-qmp-gen4x4-pcie-phy`, `CONFIG_PHY_QCOM_QMP_PCIE`
- `/soc@0/pci@1c00000`, `qcom,pcie-x1e80100`, `CONFIG_PCIE_QCOM`
- `/soc@0/phy@1c06000`, `qcom,x1e80100-qmp-gen3x2-pcie-phy`, `CONFIG_PHY_QCOM_QMP_PCIE`
- `/soc@0/pci@1c08000`, `qcom,pcie-x1e80100`, `CONFIG_PCIE_QCOM`
  - `x1-asus-vivobook-s15.dtsi` adds
    - `pcie@0/wifi@0`, `pci17cb,1107`, `CONFIG_PCI_PWRCTRL_PWRSEQ`
      - it powers on a pci device that requires `CONFIG_ATH12K`
- `/soc@0/phy@1c0e000`, `qcom,x1e80100-qmp-gen3x2-pcie-phy`, `CONFIG_PHY_QCOM_QMP_PCIE`
- `/soc@0/hwlock@1f40000`, `qcom,tcsr-mutex`, `CONFIG_HWSPINLOCK_QCOM`
- `/soc@0/clock-controller@1fc0000`, `qcom,x1e80100-tcsr`, `CONFIG_CLK_X1E80100_TCSRCC`
- `/soc@0/gpu@3d00000`, `qcom,adreno`, `CONFIG_DRM_MSM`
- `/soc@0/gmu@3d6a000`, `qcom,adreno-gmu`, `CONFIG_DRM_MSM`
- `/soc@0/clock-controller@3d90000`, `qcom,x1e80100-gpucc`, `CONFIG_CLK_X1E80100_GPUCC`
  - `x1p42100.dtsi` uses `CONFIG_CLK_X1P42100_GPUCC`
- `/soc@0/iommu@3da0000`, `qcom,adreno-smmu`, `CONFIG_ARM_SMMU_QCOM`
- `/soc@0/interconnect@26400000`, `qcom,x1e80100-gem-noc`, `CONFIG_INTERCONNECT_QCOM_X1E80100`
- `/soc@0/interconnect@320c0000`, `qcom,x1e80100-nsp-noc`, `CONFIG_INTERCONNECT_QCOM_X1E80100`
- `/soc@0/remoteproc@6800000`, `qcom,x1e80100-adsp-pas`, `CONFIG_QCOM_Q6V5_PAS`
  - `glink-edge/fastrpc`, `qcom,fastrpc`, `CONFIG_QCOM_FASTRPC`
  - `glink-edge/gpr`, `qcom,gpr`, `CONFIG_QCOM_APR`
    - `service@1`, `qcom,q6apm`, `CONFIG_SND_SOC_QDSP6_APM`
      - `bedais`, `qcom,q6apm-lpass-dais`, `CONFIG_SND_SOC_QDSP6_APM_LPASS_DAI`
      - `dais`, `qcom,q6apm-dais`, `CONFIG_SND_SOC_QDSP6_APM_DAI`
    - `service@2`, `qcom,q6prm`, `CONFIG_SND_SOC_QDSP6_PRM`
      - `clock-controller`, `qcom,q6prm-lpass-clocks`, `CONFIG_SND_SOC_QDSP6_PRM_LPASS_CLOCKS`
- `/soc@0/codec@6aa0000`, `qcom,sm8550-lpass-wsa-macro`, `CONFIG_SND_SOC_LPASS_WSA_MACRO`
- `/soc@0/soundwire@6ab0000`, `qcom,soundwire-v2.0.0`, `CONFIG_SOUNDWIRE_QCOM`
- `/soc@0/codec@6ac0000`, `qcom,sm8550-lpass-rx-macro`, `CONFIG_SND_SOC_LPASS_RX_MACRO`
- `/soc@0/soundwire@6ad0000`, `qcom,soundwire-v2.0.0`, `CONFIG_SOUNDWIRE_QCOM`
  - `x1-asus-vivobook-s15.dtsi` adds
    - `codec@0,4`, `sdw20217010d00`, `CONFIG_SND_SOC_WCD938X_SDW`
- `/soc@0/codec@6ae0000`, `qcom,sm8550-lpass-tx-macro`, `CONFIG_SND_SOC_LPASS_TX_MACRO`
- `/soc@0/codec@6b00000`, `qcom,sm8550-lpass-wsa-macro`, `CONFIG_SND_SOC_LPASS_WSA_MACRO`
- `/soc@0/soundwire@6b10000`, `qcom,soundwire-v2.0.0`, `CONFIG_SOUNDWIRE_QCOM`
  - `x1-asus-vivobook-s15.dtsi` adds
    - `speaker@0,0`, `sdw20217020400`, `CONFIG_SND_SOC_WSA884X`
    - `speaker@0,1`, `sdw20217020400`, `CONFIG_SND_SOC_WSA884X`
- `/soc@0/clock-controller@6b6c000`, `qcom,sc8280xp-lpassaudiocc`, `CONFIG_SC_LPASSCC_8280XP`
- `/soc@0/soundwire@6d30000`, `qcom,soundwire-v2.0.0`, `CONFIG_SOUNDWIRE_QCOM`
  - `x1-asus-vivobook-s15.dtsi` adds
    - `codec@0,3`, `sdw20217010d00`, `CONFIG_SND_SOC_WCD938X_SDW`
- `/soc@0/codec@6d44000`, `qcom,sm8550-lpass-va-macro`, `CONFIG_SND_SOC_LPASS_VA_MACRO`
- `/soc@0/pinctrl@6e80000`, `qcom,sm8550-lpass-lpi-pinctrl`, `CONFIG_PINCTRL_SM8550_LPASS_LPI`
- `/soc@0/clock-controller@6ea0000`, `qcom,sc8280xp-lpasscc`, `CONFIG_SC_LPASSCC_8280XP`
- `/soc@0/interconnect@7e40000`, `qcom,x1e80100-lpass-ag-noc`, `CONFIG_INTERCONNECT_QCOM_X1E80100`
- `/soc@0/interconnect@7400000`, `qcom,x1e80100-lpass-lpiaon-noc`, `CONFIG_INTERCONNECT_QCOM_X1E80100`
- `/soc@0/interconnect@7430000`, `qcom,x1e80100-lpass-lpicx-noc`, `CONFIG_INTERCONNECT_QCOM_X1E80100`
- `/soc@0/mmc@8804000`, `qcom,sdhci-msm-v5`, `CONFIG_MMC_SDHCI_MSM`
- `/soc@0/mmc@8844000`, `qcom,sdhci-msm-v5`, `CONFIG_MMC_SDHCI_MSM`
- `/soc@0/phy@88e0000`, `qcom,sm8550-snps-eusb2-phy`, `CONFIG_PHY_QCOM_SNPS_EUSB2`
- `/soc@0/phy@88e1000`, `qcom,sm8550-snps-eusb2-phy`, `CONFIG_PHY_QCOM_SNPS_EUSB2`
- `/soc@0/phy@88e2000`, `qcom,sm8550-snps-eusb2-phy`, `CONFIG_PHY_QCOM_SNPS_EUSB2`
- `/soc@0/phy@88e3000`, `qcom,x1e80100-qmp-usb3-uni-phy`, `CONFIG_PHY_QCOM_QMP_USB`
- `/soc@0/phy@88e5000`, `qcom,x1e80100-qmp-usb3-uni-phy`, `CONFIG_PHY_QCOM_QMP_USB`
- `/soc@0/usb@a0f8800`, `qcom,dwc3`, `CONFIG_USB_DWC3_QCOM`
  - `usb@a000000`, `snps,dwc3`, `CONFIG_USB_DWC3`
    - this adds a subdevice that requires `CONFIG_USB_XHCI_PLATFORM`
- `/soc@0/usb@a2f8800`, `qcom,dwc3`, `CONFIG_USB_DWC3_QCOM`
  - `usb@a200000`, `snps,dwc3`, `CONFIG_USB_DWC3`
- `/soc@0/usb@a4f8800`, `qcom,dwc3`, `CONFIG_USB_DWC3_QCOM`
  - `usb@a400000`, `snps,dwc3`, `CONFIG_USB_DWC3`
- `/soc@0/usb@a6f8800`, `qcom,dwc3`, `CONFIG_USB_DWC3_QCOM`
  - `usb@a600000`, `snps,dwc3`, `CONFIG_USB_DWC3`
- `/soc@0/usb@a8f8800`, `qcom,dwc3`, `CONFIG_USB_DWC3_QCOM`
  - `usb@a800000`, `snps,dwc3`, `CONFIG_USB_DWC3`
- `/soc@0/display-subsystem@ae00000`, `qcom,x1e80100-mdss`, `CONFIG_DRM_MSM_MDSS`
  - `display-controller@ae01000`, `qcom,x1e80100-dpu`, `CONFIG_DRM_MSM_DPU`
  - `displayport-controller@ae90000`, `qcom,x1e80100-dp`, `CONFIG_DRM_MSM_DP`
    - this adds a subdevice that requires `CONFIG_SND_SOC_HDMI_CODEC`
  - `displayport-controller@ae98000`, `qcom,x1e80100-dp`, `CONFIG_DRM_MSM_DP`
  - `displayport-controller@ae9a000`, `qcom,x1e80100-dp`, `CONFIG_DRM_MSM_DP`
  - `displayport-controller@aea0000`, `qcom,x1e80100-dp`, `CONFIG_DRM_MSM_DP`
    - `x1-asus-vivobook-s15.dtsi` adds
      - `aux-bus/panel`, `samsung,atna33xc20`, `CONFIG_DRM_PANEL_SAMSUNG_ATNA33XC20`
- `/soc@0/phy@aec2a00`, `qcom,x1e80100-dp-phy`, `CONFIG_PHY_QCOM_EDP`
- `/soc@0/phy@aec5a00`, `qcom,x1e80100-dp-phy`, `CONFIG_PHY_QCOM_EDP`
- `/soc@0/clock-controller@af00000`, `qcom,x1e80100-dispcc`, `CONFIG_CLK_X1E80100_DISPCC`
- `/soc@0/interrupt-controller@b220000`, `qcom,x1e80100-pdc`, `CONFIG_QCOM_PDC`
- `/soc@0/power-management@c300000`, `qcom,aoss-qmp`, `CONFIG_QCOM_AOSS_QMP`
- `/soc@0/sram@c3f0000`, `qcom,rpmh-stats`, `CONFIG_QCOM_STATS`
- `/soc@0/arbiter@c400000`, `qcom,x1e80100-spmi-pmic-arb`, `CONFIG_SPMI_MSM_PMIC_ARB`
  - `x1e80100-pmics.dtsi` adds
    - `spmi@c42d000/pmic@0`, `qcom,spmi-pmic`, `CONFIG_MFD_SPMI_PMIC`
      - `gpio@8800`, `qcom,pmk8550-gpio`, `CONFIG_PINCTRL_QCOM_SPMI_PMIC`
      - `nvram@7100`, `qcom,spmi-sdam`, `CONFIG_NVMEM_SPMI_SDAM`
      - `pon@1300`, `qcom,pmk8350-pon`, `CONFIG_POWER_RESET_QCOM_PON`
        - `pwrkey`, `qcom,pmk8350-pwrkey`, `CONFIG_INPUT_PM8941_PWRKEY`
        - `resin`, `qcom,pmk8350-resin`, `CONFIG_INPUT_PM8941_PWRKEY`
      - `pwm`, `qcom,pmk8550-pwm`, `CONFIG_LEDS_QCOM_LPG`
      - `rtc@6100`, `qcom,pmk8350-rtc`, `CONFIG_RTC_DRV_PM8XXX`
   - `spmi@c42d000/pmic@1`, `qcom,spmi-pmic`, `CONFIG_MFD_SPMI_PMIC`
      - `gpio@8800`, `qcom,pm8550-gpio`, `CONFIG_PINCTRL_QCOM_SPMI_PMIC`
      - `led-controller@ee00`, `qcom,spmi-flash-led`, `CONFIG_LEDS_QCOM_FLASH`
      - `pwm`, `qcom,pm8350c-pwm`, `CONFIG_LEDS_QCOM_LPG`
      - `temp-alarm@a00`, `qcom,spmi-temp-alarm`, `CONFIG_QCOM_SPMI_TEMP_ALARM`
   - `spmi@c42d000/pmic@2`, `qcom,spmi-pmic`, `CONFIG_MFD_SPMI_PMIC`
      - `gpio@8800`, `qcom,pm8550ve-gpio`, `CONFIG_PINCTRL_QCOM_SPMI_PMIC`
      - `temp-alarm@a00`, `qcom,spmi-temp-alarm`, `CONFIG_QCOM_SPMI_TEMP_ALARM`
    - `spmi@c42d000/pmic@3`, `qcom,spmi-pmic`, `CONFIG_MFD_SPMI_PMIC`
      - `gpio@8800`, `qcom,pmc8380-gpio`, `CONFIG_PINCTRL_QCOM_SPMI_PMIC`
      - `temp-alarm@a00`, `qcom,spmi-temp-alarm`, `CONFIG_QCOM_SPMI_TEMP_ALARM`
    - `spmi@c42d000/pmic@4`, `qcom,spmi-pmic`, `CONFIG_MFD_SPMI_PMIC`
      - `gpio@8800`, `qcom,pmc8380-gpio`, `CONFIG_PINCTRL_QCOM_SPMI_PMIC`
      - `temp-alarm@a00`, `qcom,spmi-temp-alarm`, `CONFIG_QCOM_SPMI_TEMP_ALARM`
    - `spmi@c42d000/pmic@5`, `qcom,spmi-pmic`, `CONFIG_MFD_SPMI_PMIC`
      - `gpio@8800`, `qcom,pmc8380-gpio`, `CONFIG_PINCTRL_QCOM_SPMI_PMIC`
      - `temp-alarm@a00`, `qcom,spmi-temp-alarm`, `CONFIG_QCOM_SPMI_TEMP_ALARM`
    - `spmi@c42d000/pmic@6`, `qcom,spmi-pmic`, `CONFIG_MFD_SPMI_PMIC`
      - `gpio@8800`, `qcom,pmc8380-gpio`, `CONFIG_PINCTRL_QCOM_SPMI_PMIC`
      - `temp-alarm@a00`, `qcom,spmi-temp-alarm`, `CONFIG_QCOM_SPMI_TEMP_ALARM`
    - `spmi@c42d000/pmic@8`, `qcom,spmi-pmic`, `CONFIG_MFD_SPMI_PMIC`
      - `gpio@8800`, `qcom,pm8550ve-gpio`, `CONFIG_PINCTRL_QCOM_SPMI_PMIC`
      - `temp-alarm@a00`, `qcom,spmi-temp-alarm`, `CONFIG_QCOM_SPMI_TEMP_ALARM`
    - `spmi@c42d000/pmic@9`, `qcom,spmi-pmic`, `CONFIG_MFD_SPMI_PMIC`
      - `gpio@8800`, `qcom,pm8550ve-gpio`, `CONFIG_PINCTRL_QCOM_SPMI_PMIC`
      - `temp-alarm@a00`, `qcom,spmi-temp-alarm`, `CONFIG_QCOM_SPMI_TEMP_ALARM`
    - `spmi@c42d000/pmic@c`, `qcom,spmi-pmic`, `CONFIG_MFD_SPMI_PMIC`
      - `temp-alarm@2400`, `qcom,spmi-temp-alarm`, `CONFIG_QCOM_SPMI_TEMP_ALARM`
    - `spmi@c432000/pmic@7`, `qcom,spmi-pmic`, `CONFIG_MFD_SPMI_PMIC`
      - `phy@fd00`, `qcom,smb2360-eusb2-repeater`, `CONFIG_PHY_QCOM_EUSB2_REPEATER`
    - `spmi@c432000/pmic@a`, `qcom,spmi-pmic`, `CONFIG_MFD_SPMI_PMIC`
      - `phy@fd00`, `qcom,smb2360-eusb2-repeater`, `CONFIG_PHY_QCOM_EUSB2_REPEATER`
    - `spmi@c432000/pmic@b`, `qcom,spmi-pmic`, `CONFIG_MFD_SPMI_PMIC`
      - `phy@fd00`, `qcom,smb2360-eusb2-repeater`, `CONFIG_PHY_QCOM_EUSB2_REPEATER`
    - `spmi@c432000/pmic@c`, `qcom,spmi-pmic`, `CONFIG_MFD_SPMI_PMIC`
      - `phy@fd00`, `qcom,smb2360-eusb2-repeater`, `CONFIG_PHY_QCOM_EUSB2_REPEATER`
- `/soc@0/pinctrl@f100000`, `qcom,x1e80100-tlmm`, `CONFIG_PINCTRL_X1E80100`
- `/soc@0/iommu@15000000`, `qcom,smmu-500`, `CONFIG_ARM_SMMU_QCOM`
- `/soc@0/interrupt-controller@17000000`, `arm,gic-v3`, `CONFIG_ARM_GIC_V3`
  - `msi-controller@17040000`, `arm,gic-v3-its`, `CONFIG_ARM_GIC_V3_ITS`
- `/soc@0/mailbox@17430000`, `qcom,x1e80100-cpucp-mbox`, `CONFIG_QCOM_CPUCP_MBOX`
- `/soc@0/rsc@17500000`, `qcom,rpmh-rsc`, `CONFIG_QCOM_RPMH`
  - `bcm-voter`, `qcom,bcm-voter`, `CONFIG_INTERCONNECT_QCOM_BCM_VOTER`
  - `clock-controller`, `qcom,x1e80100-rpmh-clk`, `CONFIG_QCOM_CLK_RPMH`
  - `power-controller`, `qcom,x1e80100-rpmhpd`, `CONFIG_QCOM_RPMHPD`
  - `x1-asus-vivobook-s15.dtsi` adds
    - `regulators-*`, `qcom,pm8550-rpmh-regulators`, `CONFIG_REGULATOR_QCOM_RPMH`
- `/soc@0/timer@17800000`, `arm,armv7-timer-mem`, `CONFIG_ARM_ARCH_TIMER`
- `/soc@0/sram@18b4e000`, `mmio-sram`, `CONFIG_SRAM`
  - `scp-sram-section@0`, `arm,scmi-shmem`, `CONFIG_ARM_SCMI_HAVE_SHMEM`
  - `scp-sram-section@200`, `arm,scmi-shmem`, `CONFIG_ARM_SCMI_HAVE_SHMEM`
- `/soc@0/watchdog@1c840000`, `arm,sbsa-gwdt`, `CONFIG_ARM_SBSA_WATCHDOG`
- `/soc@0/pmu@24091000`, `qcom,sc7280-llcc-bwmon`, `CONFIG_QCOM_ICC_BWMON`
- `/soc@0/pmu@240b3400`, `qcom,sdm845-bwmon`, `CONFIG_QCOM_ICC_BWMON`
- `/soc@0/pmu@240b5400`, `qcom,sdm845-bwmon`, `CONFIG_QCOM_ICC_BWMON`
- `/soc@0/pmu@240b6400`, `qcom,sdm845-bwmon`, `CONFIG_QCOM_ICC_BWMON`
- `/soc@0/system-cache-controller@25000000`, `qcom,x1e80100-llcc`, `CONFIG_QCOM_LLCC`
  - it adds a subdev that requires `CONFIG_EDAC_QCOM`
- `/soc@0/remoteproc@32300000`, `qcom,x1e80100-cdsp-pas`, `CONFIG_QCOM_Q6V5_PAS`
  - `glink-edge/fastrpc`, `qcom,fastrpc`, `CONFIG_QCOM_FASTRPC`
- `/timer`, `arm,armv8-timer`, `CONFIG_ARM_ARCH_TIMER`
- `x1-asus-vivobook-s15.dtsi` adds
  - `/audio-codec`, `qcom,wcd9385-codec`, `CONFIG_SND_SOC_WCD938X`
  - `/gpio-keys`, `gpio-keys`, `CONFIG_KEYBOARD_GPIO`
  - `/pmic-glink`, `qcom,pmic-glink`, `CONFIG_QCOM_PMIC_GLINK`
    - the bus discovers subdevices that require
      - `CONFIG_BATTERY_QCOM_BATTMGR`
      - `CONFIG_DRM_AUX_HPD_BRIDGE`
      - `CONFIG_UCSI_PMIC_GLINK`
  - `/reserved-memory/linux,cma`, `shared-dma-pool`, `CONFIG_DMA_CMA`
  - `/regulator-*`, `regulator-fixed`, `CONFIG_REGULATOR_FIXED_VOLTAGE`
  - `/wcn7850-pmu`, `qcom,wcn7850-pmu`, `CONFIG_POWER_SEQUENCING_QCOM_WCN`
  - `/sound`, `qcom,x1e80100-sndcard`, `CONFIG_SND_SOC_X1E80100`
- arm64 arch requires
  - `CONFIG_HW_RANDOM_ARM_SMCCC_TRNG`
- common cmdline
  - `earlycon=efifb` enables efifb earlycon
  - `cma=128M` overrides the default `CONFIG_CMA_SIZE_MBYTES` (16)
  - `clk_ignore_unused` tells `clk_disable_unused` to early return, to work
    around dt bugs
  - `pd_ignore_unused` tells `genpd_power_off_unused` to early return, to work
    around dt bugs
  - `dyndbg=` configs `CONFIG_DYNAMIC_DEBUG`
  - `crashkernel=` configs `CONFIG_CRASH_DUMP`
  - `rootdelay=20` delays root mounting (only if no initramfs) by 20s
  - `efi=noruntime` ignores efi runtime service to work around power off issue
    due to fw bug (should not be needed anymore)
  - `arm64.nopauth` disables pointer auth (PAC) to work around firefox crash
    (should not be needed anymore)

## X1E-80-100 Tips

- disable bitlocker before disabling secure boot
  - windows refuses to boot with bitlocker when secure boot is disabled
- <https://github.com/jglathe/linux_ms_dev_kit/tree/jg/ubuntu-qcom-x1e-6.15rc>
  - this appears to be the best kernel
- <https://salsa.debian.org/debian/qcom-firmware-extract>
  - this extracts fw from windows partition
  - <https://github.com/Aorimn/dislocker> is used to unlock win partition
  - <https://github.com/tuxera/ntfs-3g> is used to mount win partition
  - it finds FW under `Windows/System32/DriverStore/FileRepository`
    - `qcsubsys_ext_adsp8380` provides
      - `adsp_dtbs.elf`
      - `adspr.jsn`
      - `adsps.jsn`
      - `adspua.jsn`
      - `battmgr.jsn`
      - `qcadsp8380.mbn`
    - `qcsubsys_ext_cdsp8380` provides
      - `cdsp_dtbs.elf`
      - `cdspr.jsn`
      - `qccdsp8380.mbn`
    - `qcdx8380` provides
      - `qcdxkmsuc8380.mbn`
      - `qcdxkmsucpurwa.mbn` (asus x1p only)
  - it copies FW to `/lib/modules/<vendor>/<product>`
  - DT `remoteproc_adsp` picks `qcadsp8380.mbn` and `adsp_dtbs.elf`
  - DT `remoteproc_cdsp` picks `qccdsp8380.mbn` and `cdsp_dtbs.elf`
  - DT `gpu` picks `qcdxkmsuc8380.mbn`
    - asus x1p may pick `qcdxkmsucpurwa.mbn`

## Qualcomm Modem/WiFi/BT?

- trogdor wifi
  - kernel `sc7180-trogdor.dtsi` lists these `remoteproc_mpss` firmwares
    - `qcom/sc7180-trogdor/modem-nolte/mba.mbn`
    - `qcom/sc7180-trogdor/modem-nolte/qdsp6sw.mbn`
  - `net-misc/rmtfs` ebuild
    - depends on `net-libs/libqrtr`
     - there is no `USE=qrtr_ns` and `qrtr-ns` is not enabled
    - upstart config does
      - `mkdir -p /var/lib/rmtfs/boot`
      - `touch modem_fsc modem_fsg modem_fs1 modem_fs2` in it
      - `/usr/bin/rmtfs -so /var/lib/rmtfs/boot`
  - for cadmium,
    - copy firmwares to `/lib/firmware/qcom/sc7180-trogdor/modem-nolte`
    - populate `/var/lib/rmtfs/boot`
    - `sudo systemctl edit rmtfs`
      - use the cmdline above, optionally add `-v` for verbosity
      - no need to depend on `qrtr-ns`
    - dmesg can report remoteproc boot failure or xpu violation
      - keep `systemctl restart rmtfs` until it works
- debug
  - build coreboot-utils
    - <https://aur.archlinux.org/coreboot-utils.git>
    - modify `PKGBUILD` to add `aarch64` and to remove x86-specific tools
    - `makepkg -s`
  - `cbmem -1`
  - `sudo systemctl restart rmtfs`
- <https://github.com/andersson/qmic.git>
  - a tool to parse `.qmi` into `.c` and `.h`
  - looking at a qmi file, it seems to be for rpc serialization and
    deserialization
- <https://github.com/andersson/qrtr.git>
  - uses `AF_QIPCRTR` socket; according to kernel `CONFIG_QRTR`,
    - Qualcomm IPC router protocol
    - The protocol is used to communicate with services provided by other
      hardware blocks in the system
  - this userspace tool seems to be used for service discovery and communication
  - `qrtr-ns.service` provides QIPCRTR Name Service
- <https://github.com/andersson/rmtfs>
  - depends on qmic to compile `qmi_rmtfs.qmi`
  - depends on libqrtr for service discovery and communication
  - according to kernel `CONFIG_QCOM_RMTFS_MEM`,
    - The Qualcomm remote filesystem memory driver is used for allocating and
      exposing regions of shared memory with remote processors for the purpose
      of exchanging sector-data between the remote filesystem service and its
      clients
  - `rmtfs.service` provides Qualcomm remotefs service
    - it starts rmtfs with
      - `-r`: read only
      - `-P`: use partitions
      - `-s`: sync for remoteproc
- `/lib/firmware/rmtfs/modem_*`
  - there are four 2MB initially-zeroed files: `fs1 fs2 fsg fsc`
  - my guess is the modem needs to read data from the cpu
  - rmtfs uses those the 4 files to provide 4 remote filesystems to the modem
